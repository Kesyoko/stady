**Rails基礎３**<br>
　<br>
Gem fileはRailsのGemを記入するものでこれにはプロジェクトに必要なすべてのGemが記載される。<br>
記入後はbundle installを行うとインストールされる。<br>
<br>
**docker compose run web bundle install**<br>
上記コマンドは新しいコンテナを起動してその中でインストールしましょうという操作。<br>
runが新しいコンテナ起動という意味。<br>
　<br>
**docker compose exec web bin/dev** <br>
上記コマンドのbin/devは開発モードで起動しましょうという操作。<br>
 <br>
**docker compose exec web rails db:migrate:status**<br>
現在動いているwebという名称のRailsアプリのデータベースのマイグレーションの状況を確認するためのコマンド。<br>
マイグレーションが適用されていれば``up``と出る。適用されていないものは``down``。<br>
<br>
**docker compose exec web rails db:migrate**<br>
マイグレートファイルが複数個あっても１度このコマンドを実行することですべてマイグレートされる。<br>
 <br>
**バリデーション**<br>
``password``<br>
最小で3文字以上必要（新規レコード作成もしくはcrypted_passwordカラムが更新される時のみ適応）<br>
``password_confirmation``<br>
値が空でないこと・passwordの値と一致すること（新規レコード作成もしくはcrypted_passwordカラムが更新される時のみ適応）<br>
``first_name``<br>
値が空でないこと・最大255文字以下であること<br>
``last_name``<br>
値が空でないこと・最大255文字以下であること<br>
``email``<br>
値が空でないこと・ユニークな値であること<br>
マイグレーションファイルに記載したにもかかわらず、バリデーションにも記述するのはより厳しくエラー確認を行うため（早くエラーを察知できる）。<br>
<br>
**resources **<br>
Railsのルーティングに広く使用され特定のリソースに対して標準的なルートを一括で生成する<br>
``resources :users``とかけばユーザに関するルートが自動生成されるダ！<br>
　<br>
**only**<br>
``resources :users``の後ろにonlyオプションをつけると特定のアクションだけ生み出せる。<br>
書き方は``resources :users, only: [:index, :create] ``<br>
　<br>
**require_login**<br>
ユーザがログインしているか確認し、していなければnot_authenticatedで指定したパスに飛ぶ。(リダイレクトする)<br>
　<br>
**not_authenticated**<br>
application_controller.rbでメソッドを上書きしてリダイレクト先を書き換える。<br>
　<br>
**before_action**<br>
アクション実行前に指定したメソッドを呼ぶ。<br>
application_controller.rbでApplicationControllerを継承するすべてのクラスにこのメソッドが実行される<br>
<br>
**ストロングパラメーター**<br>
安全に更新する仕組みで、ホワイトリスト形式と呼ばれる。<br>
記述方法は``params.require(:user).permit(:first_name, :last_name, :email)``のような形で記述する。<br>
``params.require(:user).``でpasswordが必須事項に、``permit(:first_name, :last_name, :email)``でfirst_name, :last_name, :emailを許可している。<br>
　
**skip_before_action**<br>
スキップしたいものに対して設定する。例えば``skip_before_action :require_login, only: [:new, :create]``<br>
ログイン情報の例外を表していて新規作成(new)や登録処理(create)は弾かないようにしている。なお、新規作成はユーザ側、登録処理はDB側。<br>
　<br>
**form_with**<br>
フォームを簡単に作成するヘルパーメソッド。なお、HTTPメソッドも自動的に作るため指定しなくて良い 